<%- include('header', { title: 'Booking Slots'}) %>
<div class="page-wrapper">
    <div class="container-fluid">
        <div class="row page-titles">
            <div class="col-md-5 align-self-center">
                <h4 class="text-themecolor">Booking Slots</h4>
            </div>
            <div class="col-md-7 align-self-center text-end">
                <div class="d-flex justify-content-end align-items-center">
                    <ol class="breadcrumb justify-content-end">
                        <li class="breadcrumb-item"><a href="/admin/dashboard">Home</a></li>
                        <li class="breadcrumb-item"><a href="/admin/tutor/<%=data?.tutor?.id%>">Tutor</a></li>
                        <li class="breadcrumb-item active">Booking Slots</li>
                    </ol>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-body" style="padding-left: 0; padding-right: 0px">
                        <div class="table-responsive">
                            <table id="config-table" class="table table-striped border">
                                <thead>
                                    <tr>
                                        <!-- <th>Id</th> -->
                                        <th>Status</th>
                                        <th>Start Time</th>
                                        <th>End Time</th>
                                        <th>Booking status</th>
                                        <th>Paid</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <% data.slots.forEach(function (ele) { %>
                                    <tr>
                                        <!-- <td><%= ele.id%></td> -->
                                        <td><%= ele.status == 0 ? 'Pending' : ele.status == 1 ? 'Success' : 'Failed' %></td>
                                        <td>
                                            <%= moment(ele.from_time).format('MMMM DD, YYYY h:mm A') %>
                                            <!-- <%= ele.from_time.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day:
                                            'numeric' , hour: 'numeric', minute: 'numeric' })%> -->
                                        </td>
                                        <td>
                                            <%= moment(ele.to_time).format('MMMM DD, YYYY h:mm A') %>
                                            <!-- <%= ele.to_time.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day:
                                            'numeric', hour: 'numeric', minute: 'numeric' })%> -->
                                        </td>
                                        <td>
                                            <%= data.status == 0 ? 'Pending' : data.status == 1 ? 'Accepted' : data.status == 2 ?
                                            'Rejected' : data.status == 3 ? 'Payment Pending' : data.status == 4 ? 'Ongoing' :
                                            data.status == 5 ? 'Completed' : data.status == 6 ? 'Cancelled' : data.status == 7 ?
                                            'Payment Failed' : data.status == 8 ? 'Payment Completed' : '' %>
                                        </td>
                                        <td><%= ele.is_paid == 1 ? ele.paid_on.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day:
                                            'numeric' }) : '-'  %></td>
                                    </tr>
                                    <%});%>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<%- include('footer') %>
<script>
    $('#config-table').DataTable({
        responsive: true,
    });
    
</script>

